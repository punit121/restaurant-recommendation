{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 123,
   "metadata": {},
   "outputs": [],
   "source": [
    "df=pd.read_csv(\"RestoInfo.csv\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 124,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>name</th>\n",
       "      <th>online_order</th>\n",
       "      <th>book_table</th>\n",
       "      <th>rate</th>\n",
       "      <th>votes</th>\n",
       "      <th>location</th>\n",
       "      <th>rest_type</th>\n",
       "      <th>dish_liked</th>\n",
       "      <th>cuisines</th>\n",
       "      <th>approx_cost(for two people)</th>\n",
       "      <th>reviews_list</th>\n",
       "      <th>menu_item</th>\n",
       "      <th>listed_in(type)</th>\n",
       "      <th>listed_in(city)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>46019</td>\n",
       "      <td>Unique Brew Cafe Resto</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>NaN</td>\n",
       "      <td>0</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Fast Food</td>\n",
       "      <td>200</td>\n",
       "      <td>[]</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Old Airport Road</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>28849</td>\n",
       "      <td>Jayanthi Sagar</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>3.1 /5</td>\n",
       "      <td>21</td>\n",
       "      <td>Koramangala 5th Block</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>South Indian, North Indian, Chinese</td>\n",
       "      <td>200</td>\n",
       "      <td>[('Rated 2.0', \"RATEDn  Works only because it'...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Koramangala 4th Block</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>19855</td>\n",
       "      <td>Rock Stone Ice Cream Factory</td>\n",
       "      <td>Yes</td>\n",
       "      <td>No</td>\n",
       "      <td>4.0/5</td>\n",
       "      <td>131</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Dessert Parlor</td>\n",
       "      <td>Icecream Cake, Brownie, Waffles, Chocolate Ice...</td>\n",
       "      <td>Ice Cream</td>\n",
       "      <td>230</td>\n",
       "      <td>[('Rated 4.0', \"RATEDn  Ice creams are really ...</td>\n",
       "      <td>['Midnight Indulgence Cake', 'Butterscotch Mel...</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Jayanagar</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>35188</td>\n",
       "      <td>Punjabi by Nature 2.0</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>4.2 /5</td>\n",
       "      <td>3236</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Casual Dining, Microbrewery</td>\n",
       "      <td>Paneer Tikki, Mutton Raan, Mango Margarita, Cr...</td>\n",
       "      <td>North Indian</td>\n",
       "      <td>NaN</td>\n",
       "      <td>[('Rated 3.0', \"RATEDn  It has a beautiful amb...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Koramangala 7th Block</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>7070</td>\n",
       "      <td>Rayalaseema Chefs</td>\n",
       "      <td>Yes</td>\n",
       "      <td>Yes</td>\n",
       "      <td>3.9/5</td>\n",
       "      <td>225</td>\n",
       "      <td>Marathahalli</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Bamboo Chicken, Butter Naan, Mutton Biryani, P...</td>\n",
       "      <td>North Indian, Biryani, Andhra, Chinese</td>\n",
       "      <td>800</td>\n",
       "      <td>[('Rated 5.0', 'RATEDn  Had Good experience wi...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Brookefield</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Unnamed: 0                          name online_order book_table    rate  \\\n",
       "0       46019        Unique Brew Cafe Resto           No         No     NaN   \n",
       "1       28849                Jayanthi Sagar           No         No  3.1 /5   \n",
       "2       19855  Rock Stone Ice Cream Factory          Yes         No   4.0/5   \n",
       "3       35188         Punjabi by Nature 2.0           No         No  4.2 /5   \n",
       "4        7070             Rayalaseema Chefs          Yes        Yes   3.9/5   \n",
       "\n",
       "   votes               location                    rest_type  \\\n",
       "0      0            Indiranagar                  Quick Bites   \n",
       "1     21  Koramangala 5th Block                  Quick Bites   \n",
       "2    131                    BTM               Dessert Parlor   \n",
       "3   3236                    BTM  Casual Dining, Microbrewery   \n",
       "4    225           Marathahalli                Casual Dining   \n",
       "\n",
       "                                          dish_liked  \\\n",
       "0                                                NaN   \n",
       "1                                                NaN   \n",
       "2  Icecream Cake, Brownie, Waffles, Chocolate Ice...   \n",
       "3  Paneer Tikki, Mutton Raan, Mango Margarita, Cr...   \n",
       "4  Bamboo Chicken, Butter Naan, Mutton Biryani, P...   \n",
       "\n",
       "                                 cuisines approx_cost(for two people)  \\\n",
       "0                               Fast Food                         200   \n",
       "1     South Indian, North Indian, Chinese                         200   \n",
       "2                               Ice Cream                         230   \n",
       "3                            North Indian                         NaN   \n",
       "4  North Indian, Biryani, Andhra, Chinese                         800   \n",
       "\n",
       "                                        reviews_list  \\\n",
       "0                                                 []   \n",
       "1  [('Rated 2.0', \"RATEDn  Works only because it'...   \n",
       "2  [('Rated 4.0', \"RATEDn  Ice creams are really ...   \n",
       "3  [('Rated 3.0', \"RATEDn  It has a beautiful amb...   \n",
       "4  [('Rated 5.0', 'RATEDn  Had Good experience wi...   \n",
       "\n",
       "                                           menu_item listed_in(type)  \\\n",
       "0                                                 []        Dine-out   \n",
       "1                                                 []        Dine-out   \n",
       "2  ['Midnight Indulgence Cake', 'Butterscotch Mel...        Delivery   \n",
       "3                                                 []        Delivery   \n",
       "4                                                 []        Delivery   \n",
       "\n",
       "         listed_in(city)  \n",
       "0       Old Airport Road  \n",
       "1  Koramangala 4th Block  \n",
       "2              Jayanagar  \n",
       "3  Koramangala 7th Block  \n",
       "4            Brookefield  "
      ]
     },
     "execution_count": 124,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 138,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "Delivery              1048\n",
       "Dine-out               737\n",
       "Desserts               122\n",
       "Cafes                   60\n",
       "Drinks & nightlife      46\n",
       "Pubs and bars           28\n",
       "Buffet                  28\n",
       "Name: listed_in(type), dtype: int64"
      ]
     },
     "execution_count": 138,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['listed_in(type)'].value_counts()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 139,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(array([], dtype=int64),)"
      ]
     },
     "execution_count": 139,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.where(pd.isnull(df['listed_in(type)']))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 125,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>votes</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>count</td>\n",
       "      <td>2069.000000</td>\n",
       "      <td>2069.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>mean</td>\n",
       "      <td>25840.654422</td>\n",
       "      <td>276.048333</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>std</td>\n",
       "      <td>14877.311956</td>\n",
       "      <td>673.916908</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>min</td>\n",
       "      <td>27.000000</td>\n",
       "      <td>0.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>25%</td>\n",
       "      <td>12561.000000</td>\n",
       "      <td>7.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>50%</td>\n",
       "      <td>26193.000000</td>\n",
       "      <td>43.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>75%</td>\n",
       "      <td>38902.000000</td>\n",
       "      <td>210.000000</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>max</td>\n",
       "      <td>51643.000000</td>\n",
       "      <td>7854.000000</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "         Unnamed: 0        votes\n",
       "count   2069.000000  2069.000000\n",
       "mean   25840.654422   276.048333\n",
       "std    14877.311956   673.916908\n",
       "min       27.000000     0.000000\n",
       "25%    12561.000000     7.000000\n",
       "50%    26193.000000    43.000000\n",
       "75%    38902.000000   210.000000\n",
       "max    51643.000000  7854.000000"
      ]
     },
     "execution_count": 125,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.describe()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 126,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "'3.1 /5'"
      ]
     },
     "execution_count": 126,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['rate'][1]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 127,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/punitkumar/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:6: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  \n",
      "/Users/punitkumar/opt/anaconda3/lib/python3.7/site-packages/ipykernel_launcher.py:9: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame\n",
      "\n",
      "See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  if __name__ == '__main__':\n"
     ]
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n",
      "2\n"
     ]
    }
   ],
   "source": [
    "for i in range(0,2069): \n",
    "    x=str(df['rate'][i])\n",
    "    \n",
    "    t=x.find(\"/\")\n",
    "    if t==-1:\n",
    "        df['rate'][i]=2.0\n",
    "        print(2)\n",
    "    else:\n",
    "        df['rate'][i] = float(x[:t])\n",
    "    \n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 119,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0       2.0\n",
       "1       2.0\n",
       "2       2.0\n",
       "3       2.0\n",
       "4       2.0\n",
       "       ... \n",
       "2064    2.0\n",
       "2065    2.0\n",
       "2066    2.0\n",
       "2067    2.0\n",
       "2068    2.0\n",
       "Name: rate, Length: 2069, dtype: float64"
      ]
     },
     "execution_count": 119,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['rate'].fillna(2.0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 128,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(array([], dtype=int64),)"
      ]
     },
     "execution_count": 128,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.where(pd.isnull(df['rate']))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 129,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0       2.0\n",
       "1       3.1\n",
       "2       4.0\n",
       "3       4.2\n",
       "4       3.9\n",
       "       ... \n",
       "2064    3.8\n",
       "2065    4.0\n",
       "2066    4.3\n",
       "2067    2.0\n",
       "2068    3.2\n",
       "Name: rate, Length: 2069, dtype: float64"
      ]
     },
     "execution_count": 129,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['rate'].astype('float')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 130,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0      2\n",
       "1    3.1\n",
       "2      4\n",
       "3    4.2\n",
       "4    3.9\n",
       "Name: rate, dtype: object"
      ]
     },
     "execution_count": 130,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['rate'].head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 133,
   "metadata": {},
   "outputs": [],
   "source": [
    "#df['approx_cost(for two people)'].astype('int')\n",
    "df['approx_cost(for two people)'] = pd.to_numeric(df['approx_cost(for two people)'], errors='coerce')\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 134,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0       200.0\n",
       "1       200.0\n",
       "2       230.0\n",
       "3       220.0\n",
       "4       800.0\n",
       "        ...  \n",
       "2064    700.0\n",
       "2065    220.0\n",
       "2066    220.0\n",
       "2067    300.0\n",
       "2068    150.0\n",
       "Name: approx_cost(for two people), Length: 2069, dtype: float64"
      ]
     },
     "execution_count": 134,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['approx_cost(for two people)'].fillna(220.0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 135,
   "metadata": {},
   "outputs": [],
   "source": [
    "df['approx_cost(for two people)'] = df['approx_cost(for two people)'].astype(float)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 136,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<Figure size 432x288 with 1 Axes>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "import matplotlib.pyplot as plt\n",
    "plt.scatter(df['rate'],df['approx_cost(for two people)'])\n",
    "plt.xlabel('rate')\n",
    "plt.ylabel('Price')\n",
    "plt.show()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 137,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0       0\n",
       "1       0\n",
       "2       1\n",
       "3       0\n",
       "4       1\n",
       "       ..\n",
       "2064    1\n",
       "2065    1\n",
       "2066    0\n",
       "2067    0\n",
       "2068    0\n",
       "Name: online_order, Length: 2069, dtype: int64"
      ]
     },
     "execution_count": 137,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['online_order'].map({'No':0,'Yes':1})"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 140,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>name</th>\n",
       "      <th>online_order</th>\n",
       "      <th>book_table</th>\n",
       "      <th>rate</th>\n",
       "      <th>votes</th>\n",
       "      <th>location</th>\n",
       "      <th>rest_type</th>\n",
       "      <th>dish_liked</th>\n",
       "      <th>cuisines</th>\n",
       "      <th>approx_cost(for two people)</th>\n",
       "      <th>reviews_list</th>\n",
       "      <th>menu_item</th>\n",
       "      <th>listed_in(type)</th>\n",
       "      <th>listed_in(city)</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>46019</td>\n",
       "      <td>Unique Brew Cafe Resto</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>2</td>\n",
       "      <td>0</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Fast Food</td>\n",
       "      <td>200.0</td>\n",
       "      <td>[]</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Old Airport Road</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>28849</td>\n",
       "      <td>Jayanthi Sagar</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>3.1</td>\n",
       "      <td>21</td>\n",
       "      <td>Koramangala 5th Block</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>South Indian, North Indian, Chinese</td>\n",
       "      <td>200.0</td>\n",
       "      <td>[('Rated 2.0', \"RATEDn  Works only because it'...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Koramangala 4th Block</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>19855</td>\n",
       "      <td>Rock Stone Ice Cream Factory</td>\n",
       "      <td>Yes</td>\n",
       "      <td>No</td>\n",
       "      <td>4</td>\n",
       "      <td>131</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Dessert Parlor</td>\n",
       "      <td>Icecream Cake, Brownie, Waffles, Chocolate Ice...</td>\n",
       "      <td>Ice Cream</td>\n",
       "      <td>230.0</td>\n",
       "      <td>[('Rated 4.0', \"RATEDn  Ice creams are really ...</td>\n",
       "      <td>['Midnight Indulgence Cake', 'Butterscotch Mel...</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Jayanagar</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>35188</td>\n",
       "      <td>Punjabi by Nature 2.0</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3236</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Casual Dining, Microbrewery</td>\n",
       "      <td>Paneer Tikki, Mutton Raan, Mango Margarita, Cr...</td>\n",
       "      <td>North Indian</td>\n",
       "      <td>NaN</td>\n",
       "      <td>[('Rated 3.0', \"RATEDn  It has a beautiful amb...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Koramangala 7th Block</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>7070</td>\n",
       "      <td>Rayalaseema Chefs</td>\n",
       "      <td>Yes</td>\n",
       "      <td>Yes</td>\n",
       "      <td>3.9</td>\n",
       "      <td>225</td>\n",
       "      <td>Marathahalli</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Bamboo Chicken, Butter Naan, Mutton Biryani, P...</td>\n",
       "      <td>North Indian, Biryani, Andhra, Chinese</td>\n",
       "      <td>800.0</td>\n",
       "      <td>[('Rated 5.0', 'RATEDn  Had Good experience wi...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Brookefield</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "   Unnamed: 0                          name online_order book_table rate  \\\n",
       "0       46019        Unique Brew Cafe Resto           No         No    2   \n",
       "1       28849                Jayanthi Sagar           No         No  3.1   \n",
       "2       19855  Rock Stone Ice Cream Factory          Yes         No    4   \n",
       "3       35188         Punjabi by Nature 2.0           No         No  4.2   \n",
       "4        7070             Rayalaseema Chefs          Yes        Yes  3.9   \n",
       "\n",
       "   votes               location                    rest_type  \\\n",
       "0      0            Indiranagar                  Quick Bites   \n",
       "1     21  Koramangala 5th Block                  Quick Bites   \n",
       "2    131                    BTM               Dessert Parlor   \n",
       "3   3236                    BTM  Casual Dining, Microbrewery   \n",
       "4    225           Marathahalli                Casual Dining   \n",
       "\n",
       "                                          dish_liked  \\\n",
       "0                                                NaN   \n",
       "1                                                NaN   \n",
       "2  Icecream Cake, Brownie, Waffles, Chocolate Ice...   \n",
       "3  Paneer Tikki, Mutton Raan, Mango Margarita, Cr...   \n",
       "4  Bamboo Chicken, Butter Naan, Mutton Biryani, P...   \n",
       "\n",
       "                                 cuisines  approx_cost(for two people)  \\\n",
       "0                               Fast Food                        200.0   \n",
       "1     South Indian, North Indian, Chinese                        200.0   \n",
       "2                               Ice Cream                        230.0   \n",
       "3                            North Indian                          NaN   \n",
       "4  North Indian, Biryani, Andhra, Chinese                        800.0   \n",
       "\n",
       "                                        reviews_list  \\\n",
       "0                                                 []   \n",
       "1  [('Rated 2.0', \"RATEDn  Works only because it'...   \n",
       "2  [('Rated 4.0', \"RATEDn  Ice creams are really ...   \n",
       "3  [('Rated 3.0', \"RATEDn  It has a beautiful amb...   \n",
       "4  [('Rated 5.0', 'RATEDn  Had Good experience wi...   \n",
       "\n",
       "                                           menu_item listed_in(type)  \\\n",
       "0                                                 []        Dine-out   \n",
       "1                                                 []        Dine-out   \n",
       "2  ['Midnight Indulgence Cake', 'Butterscotch Mel...        Delivery   \n",
       "3                                                 []        Delivery   \n",
       "4                                                 []        Delivery   \n",
       "\n",
       "         listed_in(city)  \n",
       "0       Old Airport Road  \n",
       "1  Koramangala 4th Block  \n",
       "2              Jayanagar  \n",
       "3  Koramangala 7th Block  \n",
       "4            Brookefield  "
      ]
     },
     "execution_count": 140,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 248,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>name</th>\n",
       "      <th>online_order</th>\n",
       "      <th>book_table</th>\n",
       "      <th>rate</th>\n",
       "      <th>votes</th>\n",
       "      <th>location</th>\n",
       "      <th>rest_type</th>\n",
       "      <th>dish_liked</th>\n",
       "      <th>cuisines</th>\n",
       "      <th>approx_cost(for two people)</th>\n",
       "      <th>reviews_list</th>\n",
       "      <th>menu_item</th>\n",
       "      <th>listed_in(type)</th>\n",
       "      <th>listed_in(city)</th>\n",
       "      <th>final_train_attr</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>46019</td>\n",
       "      <td>Unique Brew Cafe Resto</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>nan</td>\n",
       "      <td>Fast Food</td>\n",
       "      <td>200.0</td>\n",
       "      <td>[]</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Old Airport Road</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>28849</td>\n",
       "      <td>Jayanthi Sagar</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>3.1</td>\n",
       "      <td>21</td>\n",
       "      <td>Koramangala 5th Block</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>nan</td>\n",
       "      <td>South Indian, North Indian, Chinese</td>\n",
       "      <td>200.0</td>\n",
       "      <td>[('Rated 2.0', \"RATEDn  Works only because it'...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Koramangala 4th Block</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>19855</td>\n",
       "      <td>Rock Stone Ice Cream Factory</td>\n",
       "      <td>Yes</td>\n",
       "      <td>No</td>\n",
       "      <td>4.0</td>\n",
       "      <td>131</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Dessert Parlor</td>\n",
       "      <td>Icecream Cake, Brownie, Waffles, Chocolate Ice...</td>\n",
       "      <td>Ice Cream</td>\n",
       "      <td>230.0</td>\n",
       "      <td>[('Rated 4.0', \"RATEDn  Ice creams are really ...</td>\n",
       "      <td>['Midnight Indulgence Cake', 'Butterscotch Mel...</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Jayanagar</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>35188</td>\n",
       "      <td>Punjabi by Nature 2.0</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3236</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Casual Dining, Microbrewery</td>\n",
       "      <td>Paneer Tikki, Mutton Raan, Mango Margarita, Cr...</td>\n",
       "      <td>North Indian</td>\n",
       "      <td>nan</td>\n",
       "      <td>[('Rated 3.0', \"RATEDn  It has a beautiful amb...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Koramangala 7th Block</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>7070</td>\n",
       "      <td>Rayalaseema Chefs</td>\n",
       "      <td>Yes</td>\n",
       "      <td>Yes</td>\n",
       "      <td>3.9</td>\n",
       "      <td>225</td>\n",
       "      <td>Marathahalli</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Bamboo Chicken, Butter Naan, Mutton Biryani, P...</td>\n",
       "      <td>North Indian, Biryani, Andhra, Chinese</td>\n",
       "      <td>800.0</td>\n",
       "      <td>[('Rated 5.0', 'RATEDn  Had Good experience wi...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Brookefield</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2064</td>\n",
       "      <td>2064</td>\n",
       "      <td>8778</td>\n",
       "      <td>Zeeshan</td>\n",
       "      <td>Yes</td>\n",
       "      <td>No</td>\n",
       "      <td>3.8</td>\n",
       "      <td>214</td>\n",
       "      <td>Koramangala 7th Block</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Rolls, Kathi Roll, Mutton Roll, Chicken Roll, ...</td>\n",
       "      <td>North Indian, Kebab, Biryani, Rolls</td>\n",
       "      <td>700.0</td>\n",
       "      <td>[('Rated 1.0', \"RATEDn  Pathetic service .we v...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>BTM</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2065</td>\n",
       "      <td>2065</td>\n",
       "      <td>18086</td>\n",
       "      <td>Zaica Dine &amp; Wine</td>\n",
       "      <td>Yes</td>\n",
       "      <td>Yes</td>\n",
       "      <td>4.0</td>\n",
       "      <td>1013</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Chocolate Pani Puri, Butter Chicken, Gajar Hal...</td>\n",
       "      <td>North Indian</td>\n",
       "      <td>nan</td>\n",
       "      <td>[('Rated 5.0', \"RATEDn  This place is located ...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2066</td>\n",
       "      <td>2066</td>\n",
       "      <td>46112</td>\n",
       "      <td>Murphy's Brewhouse - The Paul Bangalore</td>\n",
       "      <td>No</td>\n",
       "      <td>Yes</td>\n",
       "      <td>4.3</td>\n",
       "      <td>2039</td>\n",
       "      <td>Domlur</td>\n",
       "      <td>Pub, Microbrewery</td>\n",
       "      <td>Chicken Bruschetta, Tandoori Chicken, Veggie P...</td>\n",
       "      <td>Continental, North Indian, Finger Food</td>\n",
       "      <td>nan</td>\n",
       "      <td>[('Rated 4.0', 'RATEDn  Service - 4/5, Taste -...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Pubs and bars</td>\n",
       "      <td>Old Airport Road</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2067</td>\n",
       "      <td>2067</td>\n",
       "      <td>10808</td>\n",
       "      <td>Cee Yem</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>2.0</td>\n",
       "      <td>0</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>nan</td>\n",
       "      <td>South Indian, Kerala, North Indian</td>\n",
       "      <td>300.0</td>\n",
       "      <td>[]</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>BTM</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2068</td>\n",
       "      <td>2068</td>\n",
       "      <td>28875</td>\n",
       "      <td>Cauvery Fast Food</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>3.2</td>\n",
       "      <td>4</td>\n",
       "      <td>Ejipura</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>nan</td>\n",
       "      <td>Chinese</td>\n",
       "      <td>150.0</td>\n",
       "      <td>[('Rated 3.0', 'RATEDn  Small place with minim...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Koramangala 4th Block</td>\n",
       "      <td></td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2069 rows × 17 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "     index Unnamed: 0                                     name online_order  \\\n",
       "0        0      46019                   Unique Brew Cafe Resto           No   \n",
       "1        1      28849                           Jayanthi Sagar           No   \n",
       "2        2      19855             Rock Stone Ice Cream Factory          Yes   \n",
       "3        3      35188                    Punjabi by Nature 2.0           No   \n",
       "4        4       7070                        Rayalaseema Chefs          Yes   \n",
       "...    ...        ...                                      ...          ...   \n",
       "2064  2064       8778                                  Zeeshan          Yes   \n",
       "2065  2065      18086                        Zaica Dine & Wine          Yes   \n",
       "2066  2066      46112  Murphy's Brewhouse - The Paul Bangalore           No   \n",
       "2067  2067      10808                                  Cee Yem           No   \n",
       "2068  2068      28875                        Cauvery Fast Food           No   \n",
       "\n",
       "     book_table rate votes               location  \\\n",
       "0            No  2.0     0            Indiranagar   \n",
       "1            No  3.1    21  Koramangala 5th Block   \n",
       "2            No  4.0   131                    BTM   \n",
       "3            No  4.2  3236                    BTM   \n",
       "4           Yes  3.9   225           Marathahalli   \n",
       "...         ...  ...   ...                    ...   \n",
       "2064         No  3.8   214  Koramangala 7th Block   \n",
       "2065        Yes  4.0  1013            Indiranagar   \n",
       "2066        Yes  4.3  2039                 Domlur   \n",
       "2067         No  2.0     0                    BTM   \n",
       "2068         No  3.2     4                Ejipura   \n",
       "\n",
       "                        rest_type  \\\n",
       "0                     Quick Bites   \n",
       "1                     Quick Bites   \n",
       "2                  Dessert Parlor   \n",
       "3     Casual Dining, Microbrewery   \n",
       "4                   Casual Dining   \n",
       "...                           ...   \n",
       "2064                Casual Dining   \n",
       "2065                Casual Dining   \n",
       "2066            Pub, Microbrewery   \n",
       "2067                  Quick Bites   \n",
       "2068                  Quick Bites   \n",
       "\n",
       "                                             dish_liked  \\\n",
       "0                                                   nan   \n",
       "1                                                   nan   \n",
       "2     Icecream Cake, Brownie, Waffles, Chocolate Ice...   \n",
       "3     Paneer Tikki, Mutton Raan, Mango Margarita, Cr...   \n",
       "4     Bamboo Chicken, Butter Naan, Mutton Biryani, P...   \n",
       "...                                                 ...   \n",
       "2064  Rolls, Kathi Roll, Mutton Roll, Chicken Roll, ...   \n",
       "2065  Chocolate Pani Puri, Butter Chicken, Gajar Hal...   \n",
       "2066  Chicken Bruschetta, Tandoori Chicken, Veggie P...   \n",
       "2067                                                nan   \n",
       "2068                                                nan   \n",
       "\n",
       "                                    cuisines approx_cost(for two people)  \\\n",
       "0                                  Fast Food                       200.0   \n",
       "1        South Indian, North Indian, Chinese                       200.0   \n",
       "2                                  Ice Cream                       230.0   \n",
       "3                               North Indian                         nan   \n",
       "4     North Indian, Biryani, Andhra, Chinese                       800.0   \n",
       "...                                      ...                         ...   \n",
       "2064     North Indian, Kebab, Biryani, Rolls                       700.0   \n",
       "2065                            North Indian                         nan   \n",
       "2066  Continental, North Indian, Finger Food                         nan   \n",
       "2067      South Indian, Kerala, North Indian                       300.0   \n",
       "2068                                 Chinese                       150.0   \n",
       "\n",
       "                                           reviews_list  \\\n",
       "0                                                    []   \n",
       "1     [('Rated 2.0', \"RATEDn  Works only because it'...   \n",
       "2     [('Rated 4.0', \"RATEDn  Ice creams are really ...   \n",
       "3     [('Rated 3.0', \"RATEDn  It has a beautiful amb...   \n",
       "4     [('Rated 5.0', 'RATEDn  Had Good experience wi...   \n",
       "...                                                 ...   \n",
       "2064  [('Rated 1.0', \"RATEDn  Pathetic service .we v...   \n",
       "2065  [('Rated 5.0', \"RATEDn  This place is located ...   \n",
       "2066  [('Rated 4.0', 'RATEDn  Service - 4/5, Taste -...   \n",
       "2067                                                 []   \n",
       "2068  [('Rated 3.0', 'RATEDn  Small place with minim...   \n",
       "\n",
       "                                              menu_item listed_in(type)  \\\n",
       "0                                                    []        Dine-out   \n",
       "1                                                    []        Dine-out   \n",
       "2     ['Midnight Indulgence Cake', 'Butterscotch Mel...        Delivery   \n",
       "3                                                    []        Delivery   \n",
       "4                                                    []        Delivery   \n",
       "...                                                 ...             ...   \n",
       "2064                                                 []        Delivery   \n",
       "2065                                                 []        Delivery   \n",
       "2066                                                 []   Pubs and bars   \n",
       "2067                                                 []        Dine-out   \n",
       "2068                                                 []        Dine-out   \n",
       "\n",
       "            listed_in(city) final_train_attr  \n",
       "0          Old Airport Road                   \n",
       "1     Koramangala 4th Block                   \n",
       "2                 Jayanagar                   \n",
       "3     Koramangala 7th Block                   \n",
       "4               Brookefield                   \n",
       "...                     ...              ...  \n",
       "2064                    BTM                   \n",
       "2065            Indiranagar                   \n",
       "2066       Old Airport Road                   \n",
       "2067                    BTM                   \n",
       "2068  Koramangala 4th Block                   \n",
       "\n",
       "[2069 rows x 17 columns]"
      ]
     },
     "execution_count": 248,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.fillna(0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 247,
   "metadata": {},
   "outputs": [],
   "source": [
    "df['final_train_attr']=''"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 249,
   "metadata": {},
   "outputs": [],
   "source": [
    "df = df.applymap(str)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 250,
   "metadata": {},
   "outputs": [],
   "source": [
    "df['final_train_attr']=df['cuisines']+df['location']+df['approx_cost(for two people)'] +df['dish_liked']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 251,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0                            Fast FoodIndiranagar200.0nan\n",
       "1       South Indian, North Indian, ChineseKoramangala...\n",
       "2       Ice CreamBTM230.0Icecream Cake, Brownie, Waffl...\n",
       "3       North IndianBTMnanPaneer Tikki, Mutton Raan, M...\n",
       "4       North Indian, Biryani, Andhra, ChineseMarathah...\n",
       "                              ...                        \n",
       "2064    North Indian, Kebab, Biryani, RollsKoramangala...\n",
       "2065    North IndianIndiranagarnanChocolate Pani Puri,...\n",
       "2066    Continental, North Indian, Finger FoodDomlurna...\n",
       "2067        South Indian, Kerala, North IndianBTM300.0nan\n",
       "2068                               ChineseEjipura150.0nan\n",
       "Name: final_train_attr, Length: 2069, dtype: object"
      ]
     },
     "execution_count": 251,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df['final_train_attr']"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 155,
   "metadata": {},
   "outputs": [],
   "source": [
    "import seaborn as sns\n",
    "import pandas as pd\n",
    "import numpy as np\n",
    "import ast \n",
    "from scipy import stats\n",
    "from ast import literal_eval\n",
    "from sklearn.feature_extraction.text import TfidfVectorizer, CountVectorizer\n",
    "from sklearn.metrics.pairwise import linear_kernel, cosine_similarity"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 253,
   "metadata": {},
   "outputs": [],
   "source": [
    "tf = TfidfVectorizer(analyzer='word',ngram_range=(1, 2),min_df=0, stop_words='english')\n",
    "tfidf_matrix = tf.fit_transform(df['final_train_attr'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 254,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(2069, 10115)"
      ]
     },
     "execution_count": 254,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "tfidf_matrix.shape\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 255,
   "metadata": {},
   "outputs": [],
   "source": [
    "cosine_sim = linear_kernel(tfidf_matrix, tfidf_matrix)\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 256,
   "metadata": {},
   "outputs": [],
   "source": [
    "df = df.reset_index()\n",
    "titles = df['name']\n",
    "indices = pd.Series(df.index, index=df['name'])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 257,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "name\n",
       "Unique Brew Cafe Resto                        0\n",
       "Jayanthi Sagar                                1\n",
       "Rock Stone Ice Cream Factory                  2\n",
       "Punjabi by Nature 2.0                         3\n",
       "Rayalaseema Chefs                             4\n",
       "                                           ... \n",
       "Zeeshan                                    2064\n",
       "Zaica Dine & Wine                          2065\n",
       "Murphy's Brewhouse - The Paul Bangalore    2066\n",
       "Cee Yem                                    2067\n",
       "Cauvery Fast Food                          2068\n",
       "Length: 2069, dtype: int64"
      ]
     },
     "execution_count": 257,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "indices"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 161,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting fuzzywuzzy\n",
      "  Downloading https://files.pythonhosted.org/packages/43/ff/74f23998ad2f93b945c0309f825be92e04e0348e062026998b5eefef4c33/fuzzywuzzy-0.18.0-py2.py3-none-any.whl\n",
      "Installing collected packages: fuzzywuzzy\n",
      "Successfully installed fuzzywuzzy-0.18.0\n"
     ]
    }
   ],
   "source": [
    "!pip install fuzzywuzzy"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 187,
   "metadata": {},
   "outputs": [],
   "source": [
    "from fuzzywuzzy import process\n",
    "from fuzzywuzzy import fuzz\n",
    "from itertools import chain"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 258,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "('Fast Food, Biryani, ChineseBrigade Roadnannan', 45, 1345)"
      ]
     },
     "execution_count": 258,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "res=process.extract(\"good ambiance restaurant\", df['final_train_attr'], scorer=fuzz.token_sort_ratio)\n",
    "\n",
    "res[:1][0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 259,
   "metadata": {},
   "outputs": [],
   "source": [
    "final_res=[a for a in res[0]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 261,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1345"
      ]
     },
     "execution_count": 261,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "final_res[2]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 220,
   "metadata": {},
   "outputs": [],
   "source": [
    "df_final=df[df['final_train_attr']==final_res[0]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 221,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>index</th>\n",
       "      <th>Unnamed: 0</th>\n",
       "      <th>name</th>\n",
       "      <th>online_order</th>\n",
       "      <th>book_table</th>\n",
       "      <th>rate</th>\n",
       "      <th>votes</th>\n",
       "      <th>location</th>\n",
       "      <th>rest_type</th>\n",
       "      <th>dish_liked</th>\n",
       "      <th>cuisines</th>\n",
       "      <th>approx_cost(for two people)</th>\n",
       "      <th>reviews_list</th>\n",
       "      <th>menu_item</th>\n",
       "      <th>listed_in(type)</th>\n",
       "      <th>listed_in(city)</th>\n",
       "      <th>final_train_attr</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <td>0</td>\n",
       "      <td>0</td>\n",
       "      <td>46019</td>\n",
       "      <td>Unique Brew Cafe Resto</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>2</td>\n",
       "      <td>0</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Fast Food</td>\n",
       "      <td>200.0</td>\n",
       "      <td>[]</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Old Airport Road</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>1</td>\n",
       "      <td>1</td>\n",
       "      <td>28849</td>\n",
       "      <td>Jayanthi Sagar</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>3.1</td>\n",
       "      <td>21</td>\n",
       "      <td>Koramangala 5th Block</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>South Indian, North Indian, Chinese</td>\n",
       "      <td>200.0</td>\n",
       "      <td>[('Rated 2.0', \"RATEDn  Works only because it'...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Koramangala 4th Block</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2</td>\n",
       "      <td>2</td>\n",
       "      <td>19855</td>\n",
       "      <td>Rock Stone Ice Cream Factory</td>\n",
       "      <td>Yes</td>\n",
       "      <td>No</td>\n",
       "      <td>4</td>\n",
       "      <td>131</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Dessert Parlor</td>\n",
       "      <td>Icecream Cake, Brownie, Waffles, Chocolate Ice...</td>\n",
       "      <td>Ice Cream</td>\n",
       "      <td>230.0</td>\n",
       "      <td>[('Rated 4.0', \"RATEDn  Ice creams are really ...</td>\n",
       "      <td>['Midnight Indulgence Cake', 'Butterscotch Mel...</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Jayanagar</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>35188</td>\n",
       "      <td>Punjabi by Nature 2.0</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>4.2</td>\n",
       "      <td>3236</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Casual Dining, Microbrewery</td>\n",
       "      <td>Paneer Tikki, Mutton Raan, Mango Margarita, Cr...</td>\n",
       "      <td>North Indian</td>\n",
       "      <td>NaN</td>\n",
       "      <td>[('Rated 3.0', \"RATEDn  It has a beautiful amb...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Koramangala 7th Block</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>7070</td>\n",
       "      <td>Rayalaseema Chefs</td>\n",
       "      <td>Yes</td>\n",
       "      <td>Yes</td>\n",
       "      <td>3.9</td>\n",
       "      <td>225</td>\n",
       "      <td>Marathahalli</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Bamboo Chicken, Butter Naan, Mutton Biryani, P...</td>\n",
       "      <td>North Indian, Biryani, Andhra, Chinese</td>\n",
       "      <td>800.0</td>\n",
       "      <td>[('Rated 5.0', 'RATEDn  Had Good experience wi...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Brookefield</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2064</td>\n",
       "      <td>2064</td>\n",
       "      <td>8778</td>\n",
       "      <td>Zeeshan</td>\n",
       "      <td>Yes</td>\n",
       "      <td>No</td>\n",
       "      <td>3.8</td>\n",
       "      <td>214</td>\n",
       "      <td>Koramangala 7th Block</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Rolls, Kathi Roll, Mutton Roll, Chicken Roll, ...</td>\n",
       "      <td>North Indian, Kebab, Biryani, Rolls</td>\n",
       "      <td>700.0</td>\n",
       "      <td>[('Rated 1.0', \"RATEDn  Pathetic service .we v...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>BTM</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2065</td>\n",
       "      <td>2065</td>\n",
       "      <td>18086</td>\n",
       "      <td>Zaica Dine &amp; Wine</td>\n",
       "      <td>Yes</td>\n",
       "      <td>Yes</td>\n",
       "      <td>4</td>\n",
       "      <td>1013</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>Casual Dining</td>\n",
       "      <td>Chocolate Pani Puri, Butter Chicken, Gajar Hal...</td>\n",
       "      <td>North Indian</td>\n",
       "      <td>NaN</td>\n",
       "      <td>[('Rated 5.0', \"RATEDn  This place is located ...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Delivery</td>\n",
       "      <td>Indiranagar</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2066</td>\n",
       "      <td>2066</td>\n",
       "      <td>46112</td>\n",
       "      <td>Murphy's Brewhouse - The Paul Bangalore</td>\n",
       "      <td>No</td>\n",
       "      <td>Yes</td>\n",
       "      <td>4.3</td>\n",
       "      <td>2039</td>\n",
       "      <td>Domlur</td>\n",
       "      <td>Pub, Microbrewery</td>\n",
       "      <td>Chicken Bruschetta, Tandoori Chicken, Veggie P...</td>\n",
       "      <td>Continental, North Indian, Finger Food</td>\n",
       "      <td>NaN</td>\n",
       "      <td>[('Rated 4.0', 'RATEDn  Service - 4/5, Taste -...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Pubs and bars</td>\n",
       "      <td>Old Airport Road</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2067</td>\n",
       "      <td>2067</td>\n",
       "      <td>10808</td>\n",
       "      <td>Cee Yem</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>2</td>\n",
       "      <td>0</td>\n",
       "      <td>BTM</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>South Indian, Kerala, North Indian</td>\n",
       "      <td>300.0</td>\n",
       "      <td>[]</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>BTM</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <td>2068</td>\n",
       "      <td>2068</td>\n",
       "      <td>28875</td>\n",
       "      <td>Cauvery Fast Food</td>\n",
       "      <td>No</td>\n",
       "      <td>No</td>\n",
       "      <td>3.2</td>\n",
       "      <td>4</td>\n",
       "      <td>Ejipura</td>\n",
       "      <td>Quick Bites</td>\n",
       "      <td>NaN</td>\n",
       "      <td>Chinese</td>\n",
       "      <td>150.0</td>\n",
       "      <td>[('Rated 3.0', 'RATEDn  Small place with minim...</td>\n",
       "      <td>[]</td>\n",
       "      <td>Dine-out</td>\n",
       "      <td>Koramangala 4th Block</td>\n",
       "      <td>0                                    Fast Food...</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>2069 rows × 17 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "      index  Unnamed: 0                                     name online_order  \\\n",
       "0         0       46019                   Unique Brew Cafe Resto           No   \n",
       "1         1       28849                           Jayanthi Sagar           No   \n",
       "2         2       19855             Rock Stone Ice Cream Factory          Yes   \n",
       "3         3       35188                    Punjabi by Nature 2.0           No   \n",
       "4         4        7070                        Rayalaseema Chefs          Yes   \n",
       "...     ...         ...                                      ...          ...   \n",
       "2064   2064        8778                                  Zeeshan          Yes   \n",
       "2065   2065       18086                        Zaica Dine & Wine          Yes   \n",
       "2066   2066       46112  Murphy's Brewhouse - The Paul Bangalore           No   \n",
       "2067   2067       10808                                  Cee Yem           No   \n",
       "2068   2068       28875                        Cauvery Fast Food           No   \n",
       "\n",
       "     book_table rate  votes               location  \\\n",
       "0            No    2      0            Indiranagar   \n",
       "1            No  3.1     21  Koramangala 5th Block   \n",
       "2            No    4    131                    BTM   \n",
       "3            No  4.2   3236                    BTM   \n",
       "4           Yes  3.9    225           Marathahalli   \n",
       "...         ...  ...    ...                    ...   \n",
       "2064         No  3.8    214  Koramangala 7th Block   \n",
       "2065        Yes    4   1013            Indiranagar   \n",
       "2066        Yes  4.3   2039                 Domlur   \n",
       "2067         No    2      0                    BTM   \n",
       "2068         No  3.2      4                Ejipura   \n",
       "\n",
       "                        rest_type  \\\n",
       "0                     Quick Bites   \n",
       "1                     Quick Bites   \n",
       "2                  Dessert Parlor   \n",
       "3     Casual Dining, Microbrewery   \n",
       "4                   Casual Dining   \n",
       "...                           ...   \n",
       "2064                Casual Dining   \n",
       "2065                Casual Dining   \n",
       "2066            Pub, Microbrewery   \n",
       "2067                  Quick Bites   \n",
       "2068                  Quick Bites   \n",
       "\n",
       "                                             dish_liked  \\\n",
       "0                                                   NaN   \n",
       "1                                                   NaN   \n",
       "2     Icecream Cake, Brownie, Waffles, Chocolate Ice...   \n",
       "3     Paneer Tikki, Mutton Raan, Mango Margarita, Cr...   \n",
       "4     Bamboo Chicken, Butter Naan, Mutton Biryani, P...   \n",
       "...                                                 ...   \n",
       "2064  Rolls, Kathi Roll, Mutton Roll, Chicken Roll, ...   \n",
       "2065  Chocolate Pani Puri, Butter Chicken, Gajar Hal...   \n",
       "2066  Chicken Bruschetta, Tandoori Chicken, Veggie P...   \n",
       "2067                                                NaN   \n",
       "2068                                                NaN   \n",
       "\n",
       "                                    cuisines  approx_cost(for two people)  \\\n",
       "0                                  Fast Food                        200.0   \n",
       "1        South Indian, North Indian, Chinese                        200.0   \n",
       "2                                  Ice Cream                        230.0   \n",
       "3                               North Indian                          NaN   \n",
       "4     North Indian, Biryani, Andhra, Chinese                        800.0   \n",
       "...                                      ...                          ...   \n",
       "2064     North Indian, Kebab, Biryani, Rolls                        700.0   \n",
       "2065                            North Indian                          NaN   \n",
       "2066  Continental, North Indian, Finger Food                          NaN   \n",
       "2067      South Indian, Kerala, North Indian                        300.0   \n",
       "2068                                 Chinese                        150.0   \n",
       "\n",
       "                                           reviews_list  \\\n",
       "0                                                    []   \n",
       "1     [('Rated 2.0', \"RATEDn  Works only because it'...   \n",
       "2     [('Rated 4.0', \"RATEDn  Ice creams are really ...   \n",
       "3     [('Rated 3.0', \"RATEDn  It has a beautiful amb...   \n",
       "4     [('Rated 5.0', 'RATEDn  Had Good experience wi...   \n",
       "...                                                 ...   \n",
       "2064  [('Rated 1.0', \"RATEDn  Pathetic service .we v...   \n",
       "2065  [('Rated 5.0', \"RATEDn  This place is located ...   \n",
       "2066  [('Rated 4.0', 'RATEDn  Service - 4/5, Taste -...   \n",
       "2067                                                 []   \n",
       "2068  [('Rated 3.0', 'RATEDn  Small place with minim...   \n",
       "\n",
       "                                              menu_item listed_in(type)  \\\n",
       "0                                                    []        Dine-out   \n",
       "1                                                    []        Dine-out   \n",
       "2     ['Midnight Indulgence Cake', 'Butterscotch Mel...        Delivery   \n",
       "3                                                    []        Delivery   \n",
       "4                                                    []        Delivery   \n",
       "...                                                 ...             ...   \n",
       "2064                                                 []        Delivery   \n",
       "2065                                                 []        Delivery   \n",
       "2066                                                 []   Pubs and bars   \n",
       "2067                                                 []        Dine-out   \n",
       "2068                                                 []        Dine-out   \n",
       "\n",
       "            listed_in(city)                                   final_train_attr  \n",
       "0          Old Airport Road  0                                    Fast Food...  \n",
       "1     Koramangala 4th Block  0                                    Fast Food...  \n",
       "2                 Jayanagar  0                                    Fast Food...  \n",
       "3     Koramangala 7th Block  0                                    Fast Food...  \n",
       "4               Brookefield  0                                    Fast Food...  \n",
       "...                     ...                                                ...  \n",
       "2064                    BTM  0                                    Fast Food...  \n",
       "2065            Indiranagar  0                                    Fast Food...  \n",
       "2066       Old Airport Road  0                                    Fast Food...  \n",
       "2067                    BTM  0                                    Fast Food...  \n",
       "2068  Koramangala 4th Block  0                                    Fast Food...  \n",
       "\n",
       "[2069 rows x 17 columns]"
      ]
     },
     "execution_count": 221,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_final"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 276,
   "metadata": {},
   "outputs": [],
   "source": [
    "def get_recommendations(input):\n",
    "    idx = indices[input]\n",
    "    #print (idx)\n",
    "    sim_scores = list(enumerate(cosine_sim[idx]))\n",
    "    #print (sim_scores)\n",
    "    sim_scores = sorted(sim_scores, key=lambda x: x[1], reverse=True)\n",
    "    count=0\n",
    "    for x,y in sim_scores:\n",
    "        if(count<4 and count>=1):\n",
    "            \n",
    "            print(str(df['name'][x])+\"  \"+str(y*100)+\"%\")\n",
    "        count=count+1    \n",
    "    job_indices = [i[0] for i in sim_scores]\n",
    "    print(\"\\n\")\n",
    "    return titles.iloc[job_indices]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 277,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Rajveena Kitchen  29.012896454965432%\n",
      "Eat Food  27.669526723018922%\n",
      "The Hub - Ibis Hotel  24.873394259771707%\n",
      "\n",
      "\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "1345                        The Chevron Brigade\n",
       "1249                           Rajveena Kitchen\n",
       "1188                                   Eat Food\n",
       "726                        The Hub - Ibis Hotel\n",
       "1616                       The Hub - Ibis Hotel\n",
       "                         ...                   \n",
       "2060                      New Udupi Shubh Sagar\n",
       "2063                               Firangi Bake\n",
       "2066    Murphy's Brewhouse - The Paul Bangalore\n",
       "2067                                    Cee Yem\n",
       "2068                          Cauvery Fast Food\n",
       "Name: name, Length: 2069, dtype: object"
      ]
     },
     "execution_count": 277,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "get_recommendations(df['name'][1345])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 278,
   "metadata": {},
   "outputs": [],
   "source": [
    "res=process.extract(\"must visit restaurants\", df['final_train_attr'], scorer=fuzz.token_sort_ratio)\n",
    "\n",
    "final_res=[a for a in res[0]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 279,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "['Desserts, Ice CreamKoramangala 1st Block150.0nan', 38, 808]"
      ]
     },
     "execution_count": 279,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "final_res"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 280,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Shabari Kitchen  49.7839613798406%\n",
      "Bombay Kulfis  32.963119123823354%\n",
      "Bombay Kulfis  32.963119123823354%\n",
      "\n",
      "\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "808                                Bombay Kulfi\n",
       "715                             Shabari Kitchen\n",
       "220                               Bombay Kulfis\n",
       "358                               Bombay Kulfis\n",
       "1602                           Apsara Ice Cream\n",
       "                         ...                   \n",
       "2062                                Le Charcoal\n",
       "2063                               Firangi Bake\n",
       "2064                                    Zeeshan\n",
       "2065                          Zaica Dine & Wine\n",
       "2066    Murphy's Brewhouse - The Paul Bangalore\n",
       "Name: name, Length: 2069, dtype: object"
      ]
     },
     "execution_count": 280,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "get_recommendations(df['name'][808])"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.7.4"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
